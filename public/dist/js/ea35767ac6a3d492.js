"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[818],{1818:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var o=r(821),n=(0,o.createElementVNode)("img",{src:"/storage/assets/brand.png",class:"auth-brand"},null,-1),a=(0,o.createElementVNode)("span",{class:"auth-box__title"},[(0,o.createTextVNode)(" S'identifier "),(0,o.createElementVNode)("br"),(0,o.createTextVNode)(" à votre compte ")],-1),u=(0,o.createElementVNode)("i",{class:"las la-sign-in-alt icon"},null,-1);var i=r(3907),l=r(3473),c=r(8362),s=r(5714),f=r(7503);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==d(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const b={components:{NLInput:l.Z,NLButton:c.Z},layout:"auth",middleware:"guest",metaInfo:function(){return{title:"Connexion"}},data:function(){return{form:new s.ZP({authLogin:null,password:null}),remember:!1,showForm:!0}},computed:p(p({},(0,i.Se)({user:"auth/user"})),{},{CURRENT_VERSION:function(){return f.w}}),methods:{getLoginName:function(e){return e.match(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/)?"email":"username"},login:function(){var e=this;this.form.post("login").then((function(t){e.$store.dispatch("auth/saveToken",{token:t.data.token,remember:e.remember}),e.$store.dispatch("auth/fetchUser").then((function(){return e.user.is_active?(e.showForm=!1,e.redirect(e.user.must_change_password)):(e.$store.dispatch("auth/logout"),e.$swal.alert_error("Votre compte est suspendu temporairement, veuillez contacter les administrateurs pour plus d'informations !","Erreur 401"))}))})).catch((function(t){var r;e.$swal.alert_error(null==t||null===(r=t.data)||void 0===r?void 0:r.message),console.log(t.data)}))},redirect:function(e){e?this.$router.push({name:"password.new"}):this.$router.push({name:"home"})}}};const w=(0,r(3744).Z)(b,[["render",function(e,t,r,i,l,c){var s=(0,o.resolveComponent)("NLColumn"),f=(0,o.resolveComponent)("NLInput"),d=(0,o.resolveComponent)("NLGrid"),m=(0,o.resolveComponent)("NLButton"),p=(0,o.resolveComponent)("NLFlex");return(0,o.openBlock)(),(0,o.createBlock)(d,{class:"box auth-box grid",gap:"6"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(s,{class:"auth-box__header"},{default:(0,o.withCtx)((function(){return[n,a]})),_:1}),(0,o.createVNode)(s,{class:"form-container container"},{default:(0,o.withCtx)((function(){return[e.showForm?((0,o.openBlock)(),(0,o.createElementBlock)("form",{key:0,method:"POST",onSubmit:t[2]||(t[2]=(0,o.withModifiers)((function(){return c.login&&c.login.apply(c,arguments)}),["prevent"])),onKeydown:t[3]||(t[3]=function(t){return e.form.onKeydown(t)})},[(0,o.createVNode)(d,{gap:"2",class:"my-2"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(s,null,{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(f,{modelValue:e.form.authLogin,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.authLogin=t}),name:"authLogin",placeholder:"Identifiant",form:e.form,class:"is-for-auth"},null,8,["modelValue","form"])]})),_:1}),(0,o.createVNode)(s,null,{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(f,{modelValue:e.form.password,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.password=t}),name:"password",class:"is-for-auth",placeholder:"Mot de passe",form:e.form,type:"password"},null,8,["modelValue","form"])]})),_:1})]})),_:1}),(0,o.createVNode)(p,{lgJustifyContent:"center"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(m,{loading:e.form.busy,label:"Connexion",class:"d-flex flex-row w-100"},{default:(0,o.withCtx)((function(){return[u]})),_:1},8,["loading"])]})),_:1})],32)):(0,o.createCommentVNode)("",!0)]})),_:1}),(0,o.createVNode)(s,{class:"text-center d-block d-lg-none"},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)(" VERSION "+(0,o.toDisplayString)(c.CURRENT_VERSION)+" © "+(0,o.toDisplayString)(e.currentYear)+" - Tous droits réservés - NLDEV ",1)]})),_:1})]})),_:1})}]])}}]);
//# sourceMappingURL=ea35767ac6a3d492.js.map