{"version":3,"file":"dist/js/28643fe12b9800c1.js","mappings":"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","sources":["webpack:///./resources/js/pages/tasks/edit.vue","webpack:///./resources/js/pages/tasks/edit.vue?2c9a"],"sourcesContent":["<template>\n    <div v-if=\"can('create_task')\">\n        <ContentHeader title=\"Ajouter une nouvelle tâche\" />\n        <ContentBody>\n            <NLForm :action=\"update\" :form=\"form\">\n                <!-- Title -->\n                <NLColumn lg=\"6\" md=\"6\">\n                    <NLInput v-model=\"form.title\" :form=\"form\" name=\"title\" label=\"Titre\" label-required :length=\"255\" />\n                </NLColumn>\n\n                <!-- Priority -->\n                <NLColumn lg=\"6\" md=\"6\">\n                    <NLSelect v-model=\"form.priority\" :options=\"priorities\" :form=\"form\" name=\"priority\" label=\"Prioritée\"\n                        label-required />\n                </NLColumn>\n\n                <!-- Content -->\n                <NLColumn>\n                    <NLWysiwyg v-model=\"form.content\" :form=\"form\" name=\"content\" label=\"Contenu\" :length=\"1000\" />\n                </NLColumn>\n\n                <!-- Assignation -->\n                <NLColumn lg=\"6\" md=\"6\" v-if=\"canAssignTask\">\n                    <NLSelect v-model=\"form.assigned_to_id\" :options=\"usersList\" :form=\"form\" name=\"assigned_to_id\"\n                        label=\"Assigné à\" />\n                </NLColumn>\n\n                <!-- Deadline -->\n                <NLColumn lg=\"6\" md=\"6\">\n                    <NLInput type=\"date\" v-model=\"form.deadline\" :form=\"form\" name=\"deadline\" label=\"Date fin\" />\n                </NLColumn>\n\n                <NLColumn>\n                    <NLFlex lgJustifyContent=\"end\">\n                        <NLButton :loading=\"form.busy\" label=\"Mettre à jour\" />\n                    </NLFlex>\n                </NLColumn>\n            </NLForm>\n        </ContentBody>\n    </div>\n</template>\n\n<script>\nimport { Form } from 'vform'\nimport { mapGetters } from 'vuex'\nimport { hasRole } from '../../plugins/user'\nexport default {\n    layout: 'MainLayout',\n    middleware: [ 'auth' ],\n    data() {\n        return {\n            form: new Form({\n                title: null,\n                content: null,\n                priority: 1,\n                deadline: null,\n                assigned_to_id: null,\n            }),\n            usersList: []\n        }\n    },\n    computed: {\n        ...mapGetters({\n            users: 'users/all',\n            task: 'tasks/current'\n        }),\n        priorities() {\n            return [\n                {\n                    id: 1,\n                    label: 'Normal'\n                },\n                {\n                    id: 2,\n                    label: 'Moyenne'\n                },\n                {\n                    id: 3,\n                    label: 'Urgente'\n                },\n            ]\n        },\n        canAssignTask() {\n            return hasRole([ 'manager', 'admin' ])\n        }\n    },\n    created() {\n        this.$store.dispatch('settings/updatePageLoading', true)\n        this.$store.dispatch('tasks/fetch', this.$route.params.task).then(() => {\n            if (this.canAssignTask) {\n                this.$store.dispatch('users/fetchAll').then(() => {\n                    this.usersList = this.users.all\n                })\n            }\n            this.form.title = this.task.current.title\n            this.form.content = this.task.current.content\n            this.form.priority = this.task.current.priority\n            this.form.deadline = this.task.current.deadline\n            this.form.assigned_to_id = this.task.current.assigned_to_id\n            this.$store.dispatch('settings/updatePageLoading', false)\n        })\n    },\n    methods: {\n        update() {\n            this.form.put('tasks/' + this.task.current.id).then(response => {\n                if (response.data.status) {\n                    this.$swal.toast_success(response.data.message)\n                } else {\n                    this.$swal.alert_error(response.data.message)\n                }\n                console.log(response.data.additional);\n            }).catch(error => {\n                this.$swal.catchError(error)\n            })\n        }\n    }\n}\n</script>\n","import { render } from \"./edit.vue?vue&type=template&id=707df188\"\nimport script from \"./edit.vue?vue&type=script&lang=js\"\nexport * from \"./edit.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\skaalab\\\\task-management\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["layout","middleware","data","form","Form","title","content","priority","deadline","assigned_to_id","usersList","computed","mapGetters","users","task","priorities","id","label","canAssignTask","hasRole","created","this","$store","dispatch","$route","params","then","all","current","methods","update","put","response","status","$swal","toast_success","message","alert_error","console","log","additional","error","catchError","_ctx","_createElementBlock","_createVNode","_component_ContentHeader","_component_ContentBody","_component_NLForm","action","$options","$data","_component_NLColumn","lg","md","_component_NLInput","name","length","_component_NLSelect","options","_component_NLWysiwyg","_createBlock","type","_component_NLFlex","lgJustifyContent","_component_NLButton","loading","busy"],"sourceRoot":""}