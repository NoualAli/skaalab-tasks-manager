"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[542],{4542:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n=a(821);var l=a(7565);const i={layout:"MainLayout",middleware:["auth","admin"],metaInfo:function(){return{title:"Fichiers"}},data:function(){return{refresh:0,columns:[{label:"Nom",field:"original_name",isHtml:!0,sortable:!0,methods:{showField:function(e){return["jpg","jpeg","png","svg","tif","pdf"].includes(e.extension)?'<a target="_blank" href="'.concat(e.storage_link,'">\n                                    <i class="').concat(e.icon,' icon"></i>\n                                    ').concat(e.original_name,"\n                                    </a>"):'<a target="_blank" href="'.concat(e.storage_link,'" download="').concat(e.original_name,'">\n                                    <i class="').concat(e.icon,' icon"></i>\n                                    ').concat(e.original_name,"\n                                    </a>")}}},{label:"Taille",field:"size_str",sortable:"size"},{label:"Propriétaire",field:"full_name"},{label:"Type",field:"type"},{label:"Date téléversement",field:"created_at_formatted",sortable:"created_at"}],actions:{delete:{show:function(e){return(0,l.nu)("root")},apply:this.destroy}},filters:{users:{label:"Utilisateurs",cols:3,multiple:!0,data:null,value:null},types:{label:"Types",cols:3,multiple:!0,data:null,value:null}},details:[{label:"Nom",field:"original_name",cols:{lg:3},isHtml:!0,methods:{showField:function(e){return["jpg","jpeg","png","svg","tif","pdf"].includes(e.extension)?'<a target="_blank" href="'.concat(e.storage_link,'">\n                                    <i class="').concat(e.icon,' icon"></i>\n                                    ').concat(e.original_name,"\n                                    </a>"):'<a target="_blank" href="'.concat(e.storage_link,'" download="').concat(e.original_name,'">\n                                    <i class="').concat(e.icon,' icon"></i>\n                                    ').concat(e.original_name,"\n                                    </a>")}}},{label:"Taille",field:"size_str",cols:{lg:3}},{label:"Propriétaire",field:"full_name",cols:{lg:3}},{label:"Type",field:"type",cols:{lg:3}},{label:"Mimetype",field:"mimetype",cols:{lg:3}},{label:"Type",field:"type",cols:{lg:3}},{label:"Date téléversement",field:"created_at"},{label:"Emplacement",field:"path",cols:{lg:12}}]}},created:function(){this.initData()},methods:{initData:function(){this.$store.dispatch("settings/updatePageLoading",!0)},show:function(e){},destroy:function(e){var t=this;return this.$swal.confirm_destroy().then((function(a){if(a.isConfirmed)return t.$api.delete("media/"+e.item.id).then((function(e){e.data.status?(t.refresh+=1,t.$swal.toast_success(e.data.message)):t.$swal.alert_error(e.data.message)})).catch((function(e){console.log(e)}))}))}}};const o=(0,a(3744).Z)(i,[["render",function(e,t,a,l,i,o){var s=this,r=(0,n.resolveComponent)("ContentHeader"),c=(0,n.resolveComponent)("NLDatatable"),d=(0,n.resolveComponent)("ContentBody");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)(r,null,{actions:(0,n.withCtx)((function(){return[]})),_:1}),(0,n.createVNode)(d,null,{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(c,{columns:i.columns,details:i.details,actions:i.actions,filters:i.filters,title:"Fichiers",urlPrefix:"media",onDetailsChanged:o.show,onDataLoaded:t[0]||(t[0]=function(){return s.$store.dispatch("settings/updatePageLoading",!1)}),refresh:i.refresh},null,8,["columns","details","actions","filters","onDetailsChanged","refresh"])]})),_:1})])}]])}}]);
//# sourceMappingURL=9968d8de77b4351a.js.map