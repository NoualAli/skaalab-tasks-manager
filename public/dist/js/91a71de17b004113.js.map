{"version":3,"file":"dist/js/91a71de17b004113.js","mappings":"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","sources":["webpack:///./resources/js/pages/settings/profile.vue","webpack:///./resources/js/pages/settings/profile.vue?d365"],"sourcesContent":["<template>\n    <NLGrid>\n        <!-- <NLColumn> -->\n        <!-- <NLForm :action=\"updateProfile\" :form=\"infoForm\">\n                <NLColumn>\n                    <h2>Mettez à jour vos informations</h2>\n                </NLColumn> -->\n\n        <!-- Username -->\n        <!-- <NLColumn lg=\"4\" md=\"6\">\n                    <NLInput v-model=\"infoForm.username\" :form=\"infoForm\" name=\"username\" label=\"Nom d'utilisateur\"\n                        readonly />\n                </NLColumn> -->\n\n        <!-- Firstname -->\n        <!-- <NLColumn lg=\"4\" md=\"6\">\n                    <NLInput v-model=\"infoForm.first_name\" :form=\"infoForm\" name=\"firstname\" label=\"Prénom\" />\n                </NLColumn> -->\n\n        <!-- Lastname -->\n        <!-- <NLColumn lg=\"4\" md=\"6\">\n                    <NLInput v-model=\"infoForm.last_name\" :form=\"infoForm\" name=\"last_name\" label=\"Nom de famille\" />\n                </NLColumn> -->\n\n        <!-- Phone -->\n        <!-- <NLColumn lg=\"6\" md=\"6\">\n                    <NLInput v-model=\"infoForm.phone\" :form=\"infoForm\" name=\"phone\" label=\"N° de téléphone\" type=\"phone\" />\n                </NLColumn> -->\n\n        <!-- Email -->\n        <!-- <NLColumn lg=\"6\" md=\"6\">\n                    <NLInput v-model=\"infoForm.email\" :form=\"infoForm\" name=\"email\" label=\"Adresse e-mail\" label-required\n                        type=\"email\" />\n                </NLColumn>\n                <NLColumn>\n                    <NLFlex lgJustifyContent=\"end\">\n                        <NLButton :loading=\"infoForm.busy\" label=\"Mettre à jour\" @click.prevent=\"updateProfile\" />\n                    </NLFlex>\n                </NLColumn>\n            </NLForm> -->\n        <!-- </NLColumn> -->\n\n        <NLColumn>\n            <NLForm :action=\"updatePassword\" :form=\"passwordForm\">\n                <NLColumn>\n                    <h2>Changez votre mot de passe</h2>\n                </NLColumn>\n                <!-- Current password -->\n                <NLColumn lg=\"4\" md=\"4\">\n                    <NLInput v-model=\"passwordForm.current_password\" :form=\"passwordForm\" label=\"Mot de passe actuel\"\n                        name=\"current_password\" type=\"password\" label-required />\n                </NLColumn>\n\n                <!-- Password -->\n                <NLColumn lg=\"4\" md=\"4\">\n                    <NLInput v-model=\"passwordForm.password\" :form=\"passwordForm\" label=\"Mot de passe\" name=\"password\"\n                        type=\"password\" label-required />\n                </NLColumn>\n                <!-- Password Confirmation -->\n                <NLColumn lg=\"4\" md=\"4\">\n                    <NLInput v-model=\"passwordForm.password_confirmation\" :form=\"passwordForm\"\n                        label=\"Confirmation mot de passe\" name=\"password_confirmation\" type=\"password\" label-required />\n                </NLColumn>\n                <NLColumn>\n                    <NLFlex lgJustifyContent=\"end\">\n                        <NLButton :loading=\"infoForm.busy\" label=\"Mettre à jour\" @click.prevent=\"updatePassword\" />\n                    </NLFlex>\n                </NLColumn>\n            </NLForm>\n        </NLColumn>\n\n        <NLColumn>\n            <NLDatatable :columns=\"columns\" title=\"Historique de connexion\" urlPrefix=\"users/logins/history\"\n                @dataLoaded=\"() => this.$store.dispatch('settings/updatePageLoading', false)\" />\n        </NLColumn>\n    </NLGrid>\n</template>\n\n<script>\nimport Form from 'vform'\nimport { mapGetters } from 'vuex'\nimport { user } from '../../plugins/user'\n\nexport default {\n    layout: 'MainLayout',\n\n    metaInfo() {\n        return { title: 'Profil' }\n    },\n\n    data() {\n        return {\n            infoForm: new Form({\n                username: '',\n                email: '',\n                first_name: '',\n                last_name: ''\n            }),\n            passwordForm: new Form({\n                password: '',\n                current_password: '',\n                password_confirmation: ''\n            }),\n\n            columns: [\n                {\n                    label: 'Appareil',\n                    field: 'device'\n                },\n                {\n                    label: 'Navigateur',\n                    field: 'browser'\n                },\n                {\n                    label: 'Version',\n                    field: 'browser_version'\n                },\n                {\n                    label: \"Système d'exploitation\",\n                    field: 'platform'\n                },\n                {\n                    label: 'Version',\n                    field: 'platform_version'\n                },\n                {\n                    label: 'Adresse IP',\n                    field: 'ip_address'\n                },\n                {\n                    label: 'Dernière connexion',\n                    field: 'last_activity'\n                }\n            ]\n        }\n    },\n\n    computed: mapGetters({\n        user: 'auth/user',\n    }),\n\n    created() {\n        this.$store.dispatch('settings/updatePageLoading', true)\n        this.infoForm.keys().forEach(key => {\n            this.infoForm[ key ] = this.user[ key ]\n        })\n    },\n\n    methods: {\n        updateProfile() {\n            this.infoForm.patch('settings/profile/' + user().id).then(response => {\n                if (response.data.status) {\n                    this.$swal.toast_success(response.data.message)\n                } else {\n                    this.$swal.alert_error(response.data.message)\n                }\n            }).catch(error => {\n                console.log(error)\n            })\n        },\n        updatePassword() {\n            this.passwordForm.patch('settings/password/' + user().id).then(response => {\n                if (response.data.status) {\n                    this.$swal.toast_success(response.data.message)\n                    this.passwordForm.reset()\n                } else {\n                    this.$swal.alert_error(response.data.message)\n                }\n            }).catch(error => {\n                console.log(error)\n            })\n        }\n    }\n}\n</script>\n","import { render } from \"./profile.vue?vue&type=template&id=3c4294a4\"\nimport script from \"./profile.vue?vue&type=script&lang=js\"\nexport * from \"./profile.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\skaalab\\\\task-management\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","layout","metaInfo","title","data","infoForm","Form","username","email","first_name","last_name","passwordForm","password","current_password","password_confirmation","columns","label","field","computed","mapGetters","user","created","this","$store","dispatch","keys","forEach","key","methods","updateProfile","patch","id","then","response","status","$swal","toast_success","message","alert_error","error","console","log","updatePassword","reset","_createBlock","_component_NLGrid","_createVNode","_component_NLColumn","_component_NLForm","action","$options","form","$data","_hoisted_1","lg","md","_component_NLInput","name","type","_component_NLFlex","lgJustifyContent","_component_NLButton","loading","busy","onClick","_component_NLDatatable","urlPrefix","onDataLoaded"],"sourceRoot":""}