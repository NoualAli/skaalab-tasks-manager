"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[926],{1926:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var n=o(821),r={key:0},a=(0,n.createElementVNode)("a",{href:"/excel-export?export=roles",target:"_blank",class:"btn btn-office-excel has-icon"},[(0,n.createElementVNode)("i",{class:"las la-file-excel icon"}),(0,n.createTextVNode)(" Exporter ")],-1),s=["href"],l=[(0,n.createElementVNode)("i",{class:"las la-file-excel icon"},null,-1)];const c={layout:"MainLayout",middleware:["auth","admin"],metaInfo:function(){return{title:"Rôles"}},created:function(){this.$store.dispatch("settings/updatePageLoading",!0)},data:function(){var e=this;return{refresh:1,columns:[{label:"Code",field:"code",sortable:!0},{label:"Nom",field:"name",sortable:!0}],actions:{edit:function(t){return e.can("edit_role")},delete:function(t){return e.can("delete_role")&&"root"!==t.code}}}},methods:{edit:function(e){this.$router.push({name:"roles-edit",params:{role:e.id}})},destroy:function(e){var t=this;this.$swal.confirm_destroy().then((function(o){o.isConfirmed&&api.delete("roles/"+e.id).then((function(e){e.data.status?(t.refresh+=1,t.$swal.toast_success(e.data.message)):t.$swal.toast_error(e.data.message)}))})).catch((function(e){t.$swal.alert_error()}))}}};const i=(0,o(3744).Z)(c,[["render",function(e,t,o,c,i,d){var u=this,f=(0,n.resolveComponent)("router-link"),m=(0,n.resolveComponent)("ContentHeader"),h=(0,n.resolveComponent)("NLDatatable"),p=(0,n.resolveComponent)("ContentBody");return e.can("view_roles")?((0,n.openBlock)(),(0,n.createElementBlock)("div",r,[(0,n.createVNode)(m,null,{actions:(0,n.withCtx)((function(){return[e.can("create_role")?((0,n.openBlock)(),(0,n.createBlock)(f,{key:0,to:{name:"roles-create"},class:"btn btn-info"},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)(" Ajouter ")]})),_:1})):(0,n.createCommentVNode)("",!0),a]})),_:1}),(0,n.createVNode)(p,null,{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(h,{columns:i.columns,actions:i.actions,title:"Liste des rôles",urlPrefix:"roles",onEdit:d.edit,onDelete:d.destroy,refresh:i.refresh,onDataLoaded:t[0]||(t[0]=function(){return u.$store.dispatch("settings/updatePageLoading",!1)})},{"actions-before":(0,n.withCtx)((function(e){var t=e.item;return[(0,n.createElementVNode)("a",{class:"btn btn-office-excel",href:"/excel-export?export=roles&id="+t.id,target:"_blank"},l,8,s)]})),_:1},8,["columns","actions","onEdit","onDelete","refresh"])]})),_:1})])):(0,n.createCommentVNode)("",!0)}]])}}]);
//# sourceMappingURL=ea7cd3e747c51a21.js.map