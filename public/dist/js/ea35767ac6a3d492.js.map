{"version":3,"file":"dist/js/ea35767ac6a3d492.js","mappings":"iIAGYA,EAAAA,EAAAA,oBAAwD,OAAnDC,IAAI,4BAA4BC,MAAM,c,YAC3CF,EAAAA,EAAAA,oBAIO,QAJDE,MAAM,mBAAiB,uBAAC,mBAE1B,wBAAI,kDAER,G,GAgBYF,EAAAA,EAAAA,oBAAuC,KAApCE,MAAM,2BAAyB,S,0xCAiB1D,SACIC,WAAY,CAAEC,QAAAA,EAAAA,EAASC,SAAAA,EAAAA,GACvBC,OAAQ,OACRC,WAAY,QAEZC,SAAQ,WACJ,MAAO,CAAEC,MAAO,YACpB,EAEAC,KAAM,iBAAO,CACTC,KAAM,IAAIC,EAAAA,GAAK,CACXC,UAAW,KACXC,SAAU,OAEdC,UAAU,EACVC,UAAU,EACb,EACDC,SAAU,EAAF,MACDC,EAAAA,EAAAA,IAAW,CACVC,KAAM,eACR,IACFC,gBAAe,WACX,OAAOC,EAAAA,CACX,IAGJC,QAAS,CACLC,aAAY,SAACC,GAET,OAAOA,EAAMC,MADM,+CACc,QAAU,UAC/C,EACAD,MAAK,WAAG,WAEJE,KAAKf,KAAKgB,KAAK,SAASC,MAAK,SAAAC,GAEzB,EAAKC,OAAOC,SAAS,iBAAkB,CACnCC,MAAOH,EAASnB,KAAKsB,MACrBjB,SAAU,EAAKA,WAEnB,EAAKe,OAAOC,SAAS,kBAAkBH,MAAK,WACxC,OAAI,EAAKT,KAAKc,WACV,EAAKjB,UAAW,EACT,EAAKkB,SAAS,EAAKf,KAAKgB,wBAE/B,EAAKL,OAAOC,SAAS,eACd,EAAKK,MAAMC,YAAY,8GAA+G,cAErJ,GAEJ,IAAE,OAAO,SAAAC,GAAS,MACd,EAAKF,MAAMC,YAAYC,SAAW,QAAN,EAALA,EAAO5B,YAAI,WAAN,EAAL,EAAa6B,SACpCC,QAAQC,IAAIH,EAAM5B,KACtB,GAEJ,EACAwB,SAAQ,SAACQ,GACDA,EACAhB,KAAKiB,QAAQC,KAAK,CAAEC,KAAM,iBAE1BnB,KAAKiB,QAAQC,KAAK,CAAEC,KAAM,QAElC,ICjGR,MAEA,GAFiC,E,QAAA,GAAgB,EAAQ,CAAC,CAAC,S,uODJvDC,EAAAA,EAAAA,aA+BSC,EAAAA,CA/BD7C,MAAM,oBAAoB8C,IAAI,K,wBAClC,iBAOW,EAPXC,EAAAA,EAAAA,aAOWC,EAAAA,CAPDhD,MAAM,oBAAkB,C,uBAC9B,iBAAwD,CAAxDiD,EACAC,E,WAMJH,EAAAA,EAAAA,aAkBWC,EAAAA,CAlBDhD,MAAM,4BAA0B,C,uBACtC,iBAgBO,CAhB6EmD,EAAAA,WAAQ,kBAA5FC,EAAAA,EAAAA,oBAgBO,Q,MAhBDC,OAAO,OAAQC,SAAM,mDAAUC,EAAAA,OAAAA,EAAAA,MAAAA,MAAAA,EAAAA,UAAK,iBAAGC,UAAO,+BAAEL,EAAAA,KAAKK,UAAUC,EAAM,I,EACvEV,EAAAA,EAAAA,aASSF,EAAAA,CATDC,IAAI,IAAI9C,MAAM,Q,wBAClB,iBAGW,EAHX+C,EAAAA,EAAAA,aAGWC,EAAAA,KAAAA,C,uBAFP,iBAC0B,EAD1BD,EAAAA,EAAAA,aAC0BW,EAAAA,C,WADRP,EAAAA,KAAKxC,U,qDAALwC,EAAAA,KAAKxC,UAAS,IAAEgC,KAAK,YAAYgB,YAAY,cAAelD,KAAM0C,EAAAA,KAChFnD,MAAM,e,yCAEd+C,EAAAA,EAAAA,aAGWC,EAAAA,KAAAA,C,uBAFP,iBACmC,EADnCD,EAAAA,EAAAA,aACmCW,EAAAA,C,WADjBP,EAAAA,KAAKvC,S,qDAALuC,EAAAA,KAAKvC,SAAQ,IAAE+B,KAAK,WAAW3C,MAAM,cAAc2D,YAAY,eAC5ElD,KAAM0C,EAAAA,KAAMS,KAAK,Y,mDAG9Bb,EAAAA,EAAAA,aAISc,EAAAA,CAJDC,iBAAiB,UAAQ,C,uBAC7B,iBAEW,EAFXf,EAAAA,EAAAA,aAEWgB,EAAAA,CAFAC,QAASb,EAAAA,KAAKc,KAAMC,MAAM,YAAYlE,MAAM,yB,wBACnD,iBAAuC,CAAvCmE,E,mFAKhBpB,EAAAA,EAAAA,aAEWC,EAAAA,CAFDhD,MAAM,iCAA+B,C,uBAAC,iBACpC,uBADoC,aACpC,qBAAGuD,EAAAA,iBAAkB,OAAQ,qBAAGJ,EAAAA,aAAc,mCAC1D,G","sources":["webpack:///./resources/js/pages/auth/login.vue","webpack:///./resources/js/pages/auth/login.vue?6867"],"sourcesContent":["<template>\n    <NLGrid class=\"box auth-box grid\" gap=\"6\">\n        <NLColumn class=\"auth-box__header\">\n            <img src=\"/storage/assets/brand.png\" class=\"auth-brand\">\n            <span class=\"auth-box__title\">\n                S'identifier\n                <br>\n                à votre compte\n            </span>\n        </NLColumn>\n        <NLColumn class=\"form-container container\">\n            <form method=\"POST\" @submit.prevent=\"login\" @keydown=\"form.onKeydown($event)\" v-if=\"showForm\">\n                <NLGrid gap=\"2\" class=\"my-2\">\n                    <NLColumn>\n                        <NLInput v-model=\"form.authLogin\" name=\"authLogin\" placeholder=\"Identifiant\" :form=\"form\"\n                            class=\"is-for-auth\" />\n                    </NLColumn>\n                    <NLColumn>\n                        <NLInput v-model=\"form.password\" name=\"password\" class=\"is-for-auth\" placeholder=\"Mot de passe\"\n                            :form=\"form\" type=\"password\" />\n                    </NLColumn>\n                </NLGrid>\n                <NLFlex lgJustifyContent=\"center\">\n                    <NLButton :loading=\"form.busy\" label=\"Connexion\" class=\"d-flex flex-row w-100\">\n                        <i class=\"las la-sign-in-alt icon\"></i>\n                    </NLButton>\n                </NLFlex>\n            </form>\n        </NLColumn>\n        <NLColumn class=\"text-center d-block d-lg-none\">\n            VERSION {{ CURRENT_VERSION }} &copy; {{ currentYear }} - Tous droits réservés - NLDEV\n        </NLColumn>\n    </NLGrid>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport NLInput from '../../components/Inputs/NLInput'\nimport NLButton from '../../components/Inputs/NLButton.vue'\nimport Form from 'vform'\nimport * as APP from '~/store/global/version'\nexport default {\n    components: { NLInput, NLButton },\n    layout: 'auth',\n    middleware: 'guest',\n\n    metaInfo() {\n        return { title: 'Connexion' }\n    },\n\n    data: () => ({\n        form: new Form({\n            authLogin: null,\n            password: null\n        }),\n        remember: false,\n        showForm: true,\n    }),\n    computed: {\n        ...mapGetters({\n            user: 'auth/user'\n        }),\n        CURRENT_VERSION() {\n            return APP.CURRENT_VERSION\n        }\n    },\n\n    methods: {\n        getLoginName(login) {\n            const mailFormat = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/\n            return login.match(mailFormat) ? 'email' : 'username'\n        },\n        login() {\n            // Submit the form.\n            this.form.post('login').then(response => {\n                // Save the token.\n                this.$store.dispatch('auth/saveToken', {\n                    token: response.data.token,\n                    remember: this.remember\n                })\n                this.$store.dispatch('auth/fetchUser').then(() => {\n                    if (this.user.is_active) {\n                        this.showForm = false\n                        return this.redirect(this.user.must_change_password)\n                    } else {\n                        this.$store.dispatch('auth/logout')\n                        return this.$swal.alert_error(\"Votre compte est suspendu temporairement, veuillez contacter les administrateurs pour plus d'informations !\", \"Erreur 401\")\n                    }\n                })\n                // Fetch the user.\n            }).catch(error => {\n                this.$swal.alert_error(error?.data?.message)\n                console.log(error.data);\n            })\n\n        },\n        redirect(mustChangePassword) {\n            if (mustChangePassword) {\n                this.$router.push({ name: 'password.new' })\n            } else {\n                this.$router.push({ name: 'home' })\n            }\n        }\n    }\n}\n</script>\n","import { render } from \"./login.vue?vue&type=template&id=14e3e6f1\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\skaalab\\\\task-management\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","src","class","components","NLInput","NLButton","layout","middleware","metaInfo","title","data","form","Form","authLogin","password","remember","showForm","computed","mapGetters","user","CURRENT_VERSION","APP","methods","getLoginName","login","match","this","post","then","response","$store","dispatch","token","is_active","redirect","must_change_password","$swal","alert_error","error","message","console","log","mustChangePassword","$router","push","name","_createBlock","_component_NLGrid","gap","_createVNode","_component_NLColumn","_hoisted_1","_hoisted_2","_ctx","_createElementBlock","method","onSubmit","$options","onKeydown","$event","_component_NLInput","placeholder","type","_component_NLFlex","lgJustifyContent","_component_NLButton","loading","busy","label","_hoisted_3"],"sourceRoot":""}